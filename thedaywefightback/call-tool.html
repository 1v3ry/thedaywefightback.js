
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <!-- Bootstrap core CSS -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
    <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.0/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="styles.css" />
    <link rel="stylesheet" type="text/css" href="css/call-tool.css" />
</head>

<body>

    <div class="container">
        <div>
            <div class="row">
                <h1>CALL TOOL</h1>
                <h2>TODAY WE FIGHT BACK</h2>
                <h3>WWW.THEDAYWEFIGHTBACK.COM</h3>

                <div class="col-md-6 col-sm-56 col-xs-6">
                    <p>We're about  to place a call to your phone. We'll ask you a few questions, like your ZIP code, and then connect you to your legislator. Once you're connectedd, you'll be able to leave a messa and tell them that you oppose the <span class="important">FISA Improvements Act and support the USA freedom Act.</span></p>
                </div>
                <div class="col-md-6 col-sm-6 col-xs-6">
                <ul style="padding: 0; margin: 0;">
                    <li><span class="important">Talking point one</span>. Lorem ipsum dolar sit amet, consectueur adipicising elit, sed diam nonummy nibh euismood tincident ut loreet dolore magna aliquam erat volutpat.</li>
                    <li><span class="important">Talking point one</span>. Lorem ipsum dolar sit amet, consectueur adipicising elit, sed diam nonummy nibh euismood tincident ut loreet dolore magna aliquam erat volutpat.</li>
                    <li><span class="important">Talking point one</span>. Lorem ipsum dolar sit amet, consectueur adipicising elit, sed diam nonummy nibh euismood tincident ut loreet dolore magna aliquam erat volutpat.</li>
                    <li><span class="important">Talking point one</span>. Lorem ipsum dolar sit amet, consectueur adipicising elit, sed diam nonummy nibh euismood tincident ut loreet dolore magna aliquam erat volutpat.</li>
                </div>
                  
            </div>
        </div>
    </div>
    <div class="footer" >
      <div class="container">
        <div class="col-md-3">
          <span class="footer-notice">
            <span class="important">10,045</span> CALLS PLACED
          </span>
        </div>
        <div class="col-md-3">
          <span class="footer-notice">
            <span class="important">160,134</span> EMAILS SENT
          </span>
        </div>

        <div class="col-md-3 col-md-offset-3"  style="text-align: right;"> 
          <span class="footer-notice">
            <span class="important">FIGHT</span> FOR THE FUTURE
          </span>
        </div>
      </div>
    </div>
    <script type="text/javascript">
    function isValidPhoneNumber(value) {
        if (!value) return false;
        var count = value.replace(/[^0-9]/g, "").length;

        return count == 10 || count == 11;
    }

    function isValidZipCode(value) {
        if (!value) return false;
        var count = value.replace(/[^0-9]/g, "").length;

        return count == 5;
    }


    var zipCodeError = function(el) {
        document.getElementById("error-text").innerHTML += "Invalid Zip";

    };

    var phoneError = function(el) {
        document.getElementById("error-text").innerHTML += "Invalid Phone";
    };


    // On form submit, validate fields

    var onFormSubmit = function(e) {
        document.getElementById("error-text").innerHTML = "";
        e.preventDefault();
        var userZip = document.getElementById("userZip");
        var userPhone = document.getElementById("userPhone");

        console.log(isValidZipCode(userZip.value), isValidPhoneNumber(userPhone.value));

        var errors = false;

        // Valid Zip?
        if (!isValidZipCode(userZip.value)) {
            zipCodeError(userZip);
            errors = true;
        }

        // Valid Phone?
        if (!isValidPhoneNumber(userPhone.value)) {
            phoneError(userPhone);
            errors = true;
        }

        if (errors) {
            return false;
        }


        // Instead of sending an ajax request, lets just assume success and create an iframe to do the call
        var iframe = document.createElement('iframe');
        iframe.style.display = "none";
        iframe.src = 'http://call.taskforce.is/create';
        document.body.appendChild(iframe);

        // Hide form etc below here;

        return false;
    }

    // Attach listener to call form

    //var ele = document.getElementById("call-form");
    //if (ele.addEventListener) {
        //ele.addEventListener("submit", onFormSubmit, false); //Cool modern browser!
    //} else if (ele.attachEvent) {
        //ele.attachEvent('onsubmit', onFormSubmit); //The evil IE needs extra
    //}
    </script>
</body>

</html>
