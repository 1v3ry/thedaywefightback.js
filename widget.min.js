var _tfrce_config="undefined"!==typeof tfrce_config?tfrce_config:{};
(function(k,a){function r(e,b,a){var d=new Date((new Date).getTime()+1E3*a);b=escape(b)+(null==a?"":"; expires="+d.toUTCString());document.cookie=e+"="+b}function v(a){var b=document.cookie,c=b.indexOf(" "+a+"=");-1==c&&(c=b.indexOf(a+"="));-1==c?b=null:(c=b.indexOf("=",c)+1,a=b.indexOf(";",c),-1==a&&(a=b.length),b=unescape(b.substring(c,a)));return b}a.show_style=a.show_style||"banner";a.greeting=a.greeting||"Dear Internet";a.debug=a.debug||!1;a.disableDate=a.disableDate||!1;a.campaign=a.campaign||
"thedaywefightback";a.cookieTimeout=a.cookieTimeout||172800;a.overrideLocation=a.overrideLocation||!1;var d,g,q;a.debug?(g="../thedaywefightback/",q=2E5):(g="//d1agz031tafz8n.cloudfront.net/thedaywefightback.js/thedaywefightback/",q=a.cookieTimeout);var t={correctDate:function(a){k.tdwfbCheckDate=a;var b=document.createElement("script");b.src="//dznh7un1y2etk.cloudfront.net/time?callback=tdwfbCheckDate";document.getElementsByTagName("head")[0].appendChild(b);k.tdwfbDateCallBackFailSafe=setTimeout(function(){3===
(new Date).getDate()?a({thedaywefightback:!0}):a({thedaywefightback:!1})},5E3)},location:function(a){k.tdwfbParseLocation=a;var b=document.createElement("script");b.src="https://geoip.taskforce.is/?callback=tdwfbParseLocation";document.getElementsByTagName("head")[0].appendChild(b);k.tdwfbLocationCallBackFailSafe=setTimeout(function(){a({country:{iso_code:"us"}})},5E3)}},u={thedaywefightback:{cookieName:"thedaywefightback_hasseen",styles:{banner:{campaign_container:"background: #000;position:fixed;width:100%;bottom:0;left:0;z-index:100000; padding: 0;-webkit-box-sizing: border-box; -moz-box-sizing: border-box;",
iframe_container:"position: relative; height: 350px; width:100%; margin: 0; background: #000; z-index:1;",iframe:"width: 100%;height: 100%;border: 0;margin:0;padding:0; background: #000;",footerOverlay:"cursor: pointer;position: absolute; bottom: 0; height: 50px; width:100%; margin: 0; background: none;z-index:2;",closeButton:'border: 0;height: 26px;width: 26px;cursor: pointer;position: absolute;top:20px;right:20px;background: url("'+g+'imgs/close-button.png");',mobileCloseButton:'border: 0;height: 20px;width: 20px;cursor: pointer;position: absolute;top:10px;right:10px;background: url("'+
g+'imgs/close-button-mobile.png");',openButton:'border: 0;height: 26px;width: 26px;cursor: pointer;position: absolute;bottom:10px;right:20px;background: url("'+g+'imgs/open-button.png");'}},minimized:!1,show:function(e){var b=d.styles[d.config.show_style];if(b.overlay){var c=document.createElement("div");c.style.cssText=b.overlay;document.body.appendChild(c)}var p=document.createElement("div");p.style.cssText=b.campaign_container;var f=document.createElement("div");f.style.cssText=b.iframe_container;
var h=document,c=h.documentElement,h=h.getElementsByTagName("body")[0],c=k.innerWidth||c.clientWidth||h.clientWidth;f.style.height=790>c?this.minimized?"0px":"100px":this.minimized?"50px":"350px";var l=document.createElement("div");l.style.cssText=b.footerOverlay;p.appendChild(l);p.appendChild(f);document.body.appendChild(p);h=document.createElement("iframe");h.style.cssText=b.iframe;h.src=e.location&&"us"===e.location.country.iso_code||"usa"==a.overrideLocation?g+d.config.show_style+".html?greeting="+
a.greeting:e.location&&"us"!==e.location.country.iso_code||"usa"==a.overrideLocation?g+d.config.show_style+"_international.html?greeting="+a.greeting:g+d.config.show_style+".html?greeting="+a.greeting;f.appendChild(h);var s=this;if(790<c){var m=document.createElement("button");m.style.cssText=b.closeButton;f.appendChild(m);var n=document.createElement("button");n.style.cssText=b.openButton;f.appendChild(n);this.minimized?(n.style.display="block",m.style.display="none",l.style.display="block"):(n.style.display=
"none",m.style.display="block",l.style.display="none");b=function(){s.minimized?(f.style.height="350px",s.minimized=!1,l.style.display="none",n.style.display="none",m.style.display="block",r(d.cookieName,'{"minimized": false}',q)):(f.style.height="50px",s.minimized=!0,l.style.display="block",m.style.display="none",n.style.display="block",r(d.cookieName,'{"minimized": true}',q))};l.onclick=b;m.onclick=b}else e=document.createElement("button"),e.style.cssText=b.mobileCloseButton,f.appendChild(e),e.onclick=
function(){r(d.cookieName,'{"minimized": true}',q);document.body.removeChild(p)}},init:function(e){d.config=e;if(e=v(d.cookieName))this.minimized=JSON.parse(e).minimized;t.correctDate(function(b){clearTimeout(k.tdwfbDateCallBackFailSafe);b&&(b.thedaywefightback||a.disableDate||a.debug)&&t.location(function(b){clearTimeout(k.tdwfbLocationCallBackFailSafe);d.show({location:b,widget_config:a})})})}}};if("undefined"!==typeof u[a.campaign])d=u[a.campaign],d.init(a);else return!1})(window,_tfrce_config);